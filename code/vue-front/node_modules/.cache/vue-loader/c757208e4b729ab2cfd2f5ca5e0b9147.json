{"remainingRequest":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\0javaproject\\code\\vue-front\\src\\pages\\register\\register.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\0javaproject\\code\\vue-front\\src\\pages\\register\\register.vue","mtime":1742998977392},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhZ2VGbGFnOiAnJywNCiAgICAgIHRhYmxlTmFtZTogJycsDQogICAgICByZWdpc3RlckZvcm06IHt9LA0KICAgICAgcnVsZXM6IHt9LA0KICAgICAgLy8g5paw5aKe77ya55So5LqO6aqM6K+B56CB5qCh6aqMDQogICAgICBjYXB0Y2hhOiAnJywgLy8g6K6w5b2V5b2T5YmN55Sf5oiQ55qE6aqM6K+B56CBDQogICAgICBvcmRpbmFyeVVzZXJ1c2VyU2V4T3B0aW9uczogW10sDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkucGFnZUZsYWcgPT09ICdyZWdpc3RlcicpIHsNCiAgICAgIHRoaXMudGFibGVOYW1lID0gdGhpcy4kcm91dGUucXVlcnkucm9sZTsNCiAgICAgIGlmICh0aGlzLnRhYmxlTmFtZSA9PT0gJ29yZGluYXJ5VXNlcicpIHsNCiAgICAgICAgdGhpcy5yZWdpc3RlckZvcm0gPSB7DQogICAgICAgICAgYWNjb3VudDogJycsDQogICAgICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgICAgICAgIHBhc3N3b3JkMjogJycsDQogICAgICAgICAgY29kZTogJycsIC8vIOeUqOS6jumqjOivgeeggei+k+WFpQ0KICAgICAgICAgIHJlYWxOYW1lOiAnJywNCiAgICAgICAgICB1c2VyU2V4OiAnJywNCiAgICAgICAgICBtb2JpbGU6ICcnLA0KICAgICAgICAgIGVtYWlsOiAnJywNCiAgICAgICAgICBpZENhcmQ6ICcnLA0KICAgICAgICAgIHVzZXJBdmF0YXI6ICcnLA0KICAgICAgICAgIG1vbmV5OiAnJywNCiAgICAgICAgICB2aXA6ICcnLA0KICAgICAgICB9Ow0KICAgICAgICAvLyDorr7nva7lv4Xloavop4TliJkNCiAgICAgICAgdGhpcy5ydWxlcy5hY2NvdW50ID0gW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXotKblj7cnLCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10gfV07DQogICAgICAgIHRoaXMucnVsZXMucGFzc3dvcmQgPSBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSB9LA0KICAgICAgICAgIHsgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlUGFzc3dvcmQsIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSB9DQogICAgICAgIF07DQogICAgICAgIHRoaXMucnVsZXMucGFzc3dvcmQyID0gWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7flho3mrKHovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10gfSwNCiAgICAgICAgICB7IHZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZVBhc3N3b3JkMiwgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0NCiAgICAgICAgXTsNCiAgICAgICAgdGhpcy5ydWxlcy5jb2RlID0gW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXpqozor4HnoIEnLCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10gfV07DQogICAgICAgIC8vIOWFtuS7luWPr+mAieinhOWImQ0KICAgICAgICB0aGlzLnJ1bGVzLm1vYmlsZSA9IFt7IHJlcXVpcmVkOiBmYWxzZSwgdmFsaWRhdG9yOiB0aGlzLiR2YWxpZGF0ZT8uaXNNb2JpbGUsIHRyaWdnZXI6ICdibHVyJyB9XTsNCiAgICAgICAgdGhpcy5ydWxlcy5tb25leSA9IFt7IHJlcXVpcmVkOiBmYWxzZSwgdmFsaWRhdG9yOiB0aGlzLiR2YWxpZGF0ZT8uaXNOdW1iZXIsIHRyaWdnZXI6ICdibHVyJyB9XTsNCiAgICAgIH0NCiAgICAgIC8vIOazqOWGjOaXtuWni+e7iOeUn+aIkOmqjOivgeeggQ0KICAgICAgdGhpcy5nZW5lcmF0ZUNhcHRjaGEoKTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5wYWdlRmxhZyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhZ2VGbGFnOw0KICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlRmxhZyA9PT0gJ3JlZ2lzdGVyJykgew0KICAgICAgaWYgKHRoaXMudGFibGVOYW1lID09PSAnb3JkaW5hcnlVc2VyJykgew0KICAgICAgICAvLyDlpIfnlKjvvJroi6XpnIDopoHlnKggY3JlYXRlZCDkuK3orr7nva7op4TliJnvvIzlj6/lnKjmraTov5vooYzphY3nva4NCiAgICAgIH0NCiAgICAgIHRoaXMub3JkaW5hcnlVc2VydXNlclNleE9wdGlvbnMgPSAn55S3LOWlsycuc3BsaXQoJywnKTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB2YWxpZGF0ZVBhc3N3b3JkKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgew0KICAgICAgLy8g5a+G56CB5aSN5p2C5bqm6KaB5rGC77ya6Iez5bCRNuS9je+8jOW/hemhu+WMheWQq+Wkp+WGmeWtl+avjeOAgeWwj+WGmeWtl+avjeOAgeaVsOWtl+WSjOeJueauiuespuWPtw0KICAgICAgY29uc3QgcGF0dGVybiA9IC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXGQpKD89LipbXFdfXSkuezYsfSQvOw0KICAgICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fovpPlhaXlr4bnoIEnKTsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CBJykpOw0KICAgICAgfQ0KICAgICAgaWYgKCFwYXR0ZXJuLnRlc3QodmFsdWUpKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WvhueggeiHs+WwkTbkvY3vvIzpnIDljIXlkKvlpKflhpnlrZfmr43jgIHlsI/lhpnlrZfmr43jgIHmlbDlrZflkoznibnmrornrKblj7cnKTsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign5a+G56CB5aSN5p2C5bqm5LiN56ym5ZCI6KaB5rGCJykpOw0KICAgICAgfQ0KICAgICAgY2FsbGJhY2soKTsNCiAgICB9LA0KICAgIHZhbGlkYXRlUGFzc3dvcmQyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgew0KICAgICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIEnKTsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6K+35YaN5qyh6L6T5YWl5a+G56CBJykpOw0KICAgICAgfQ0KICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnJlZ2lzdGVyRm9ybS5wYXNzd29yZCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuKTmrKHlr4bnoIHovpPlhaXkuI3kuIDoh7QnKTsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh5a+G56CB6L6T5YWl5LiN5LiA6Ie0JykpOw0KICAgICAgfQ0KICAgICAgY2FsbGJhY2soKTsNCiAgICB9LA0KICAgIC8vIOeUn+aIkDTkvY3pmo/mnLrpqozor4HnoIHvvIzlubbosIPnlKjnu5jliLblh73mlbANCiAgICBnZW5lcmF0ZUNhcHRjaGEoKSB7DQogICAgICBjb25zdCBjaGFycyA9ICdBQkNERUZHSEpLTU5QUVJTVFVWV1hZWmFiY2RlZmdoamttbnBxcnN0dXZ3eHl6MjM0NTY3ODknOw0KICAgICAgbGV0IHJlc3VsdCA9ICcnOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHsNCiAgICAgICAgcmVzdWx0ICs9IGNoYXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuY2FwdGNoYSA9IHJlc3VsdDsNCiAgICAgIHRoaXMuZHJhd0NhcHRjaGEoKTsNCiAgICAgIC8vIOa4heepuueUqOaIt+i+k+WFpeeahOmqjOivgeeggQ0KICAgICAgdGhpcy5yZWdpc3RlckZvcm0uY29kZSA9ICcnOw0KICAgIH0sDQogICAgLy8g5L2/55SoQ2FudmFz57uY5Yi26aqM6K+B56CB5ZKM5bmy5omw6aG5DQogICAgZHJhd0NhcHRjaGEoKSB7DQogICAgICBjb25zdCBjYW52YXMgPSB0aGlzLiRyZWZzLmNhcHRjaGFDYW52YXM7DQogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOw0KICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7DQogICAgICBjb25zdCB3aWR0aCA9IGNhbnZhcy53aWR0aDsNCiAgICAgIGNvbnN0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7DQogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOw0KICAgICAgLy8g57uY5Yi26IOM5pmvDQogICAgICBjdHguZmlsbFN0eWxlID0gJyNmMGYwZjAnOw0KICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOw0KICAgICAgLy8g57uY5Yi26aqM6K+B56CB5a2X56ymDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FwdGNoYS5sZW5ndGg7IGkrKykgew0KICAgICAgICBjb25zdCBjaGFyID0gdGhpcy5jYXB0Y2hhW2ldOw0KICAgICAgICBjb25zdCBmb250U2l6ZSA9IDIwICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApOw0KICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGgucmFuZG9tKCkgKiAzMCAqIE1hdGguUEkgLyAxODA7DQogICAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHggQXJpYWxgOw0KICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYigke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApfSwgJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCl9KWA7DQogICAgICAgIGN0eC5zYXZlKCk7DQogICAgICAgIGNvbnN0IHggPSAxMCArIGkgKiAyNTsNCiAgICAgICAgY29uc3QgeSA9IDI1ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApOw0KICAgICAgICBjdHgudHJhbnNsYXRlKHgsIHkpOw0KICAgICAgICBjdHgucm90YXRlKGFuZ2xlKTsNCiAgICAgICAgY3R4LmZpbGxUZXh0KGNoYXIsIDAsIDApOw0KICAgICAgICBjdHgucmVzdG9yZSgpOw0KICAgICAgfQ0KICAgICAgLy8g57uY5Yi25bmy5omw57q/DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgew0KICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgcmdiKCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjI1NSl9LCAke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoyNTUpfSwgJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU1KX0pYDsNCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOw0KICAgICAgICBjdHgubW92ZVRvKE1hdGgucmFuZG9tKCkgKiB3aWR0aCwgTWF0aC5yYW5kb20oKSAqIGhlaWdodCk7DQogICAgICAgIGN0eC5saW5lVG8oTWF0aC5yYW5kb20oKSAqIHdpZHRoLCBNYXRoLnJhbmRvbSgpICogaGVpZ2h0KTsNCiAgICAgICAgY3R4LnN0cm9rZSgpOw0KICAgICAgfQ0KICAgICAgLy8g57uY5Yi25bmy5omw54K5DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHsNCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU1KX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjI1NSl9LCAke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoyNTUpfSlgOw0KICAgICAgICBjb25zdCB4ID0gTWF0aC5yYW5kb20oKSAqIHdpZHRoOw0KICAgICAgICBjb25zdCB5ID0gTWF0aC5yYW5kb20oKSAqIGhlaWdodDsNCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOw0KICAgICAgICBjdHguYXJjKHgsIHksIDEsIDAsIDIgKiBNYXRoLlBJKTsNCiAgICAgICAgY3R4LmZpbGwoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsNCiAgICAgIC8vIOWFiOWvueWvhueggeWtl+autei/m+ihjOWNleeLrOmqjOivgQ0KICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGVGaWVsZCgncGFzc3dvcmQnLCAoZXJyb3IpID0+IHsNCiAgICAgICAgaWYgKGVycm9yKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIC8vIOWGjeaJp+ihjOaVtOS9k+ihqOWNleagoemqjA0KICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMudGFibGVOYW1lICsgJy9yZWdpc3Rlcic7DQogICAgICAgICAgICAvLyDpop3lpJbmoKHpqozvvIjkvovlpoLotKblj7fkuI3og73kuLrnqbrnrYnvvInvvIzov5nph4zlt7LnlLHop4TliJnlpITnkIYNCiAgICAgICAgICAgIHRoaXMuJGh0dHAucG9zdCh1cmwsIHRoaXMucmVnaXN0ZXJGb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfms6jlhozmiJDlip8nLA0KICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsDQogICAgICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/pages/register","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!-- 左侧插画区域 -->\r\n    <div class=\"left-illustration\">\r\n      <img\r\n          src=\"https://cdn.prod.website-files.com/6364b6fd26e298b0b8b938f5/6364b6fd26e298040bb939fc_signin.png\"\r\n          alt=\"Illustration\"\r\n          class=\"illustration-img\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 右侧表单区域 -->\r\n    <div class=\"right-form\">\r\n      <el-form\r\n          class=\"rgs-form\"\r\n          v-if=\"pageFlag=='register'\"\r\n          ref=\"registerForm\"\r\n          :model=\"registerForm\"\r\n          :rules=\"rules\"\r\n      >\r\n        <div class=\"form-header\">欢迎加入大家庭</div>\r\n\r\n        <!-- 账号：必填项 -->\r\n        <el-form-item class=\"form-item\" v-if=\"tableName=='ordinaryUser'\" prop=\"account\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>账号名称：</label>\r\n          <el-input\r\n              v-model=\"registerForm.account\"\r\n              placeholder=\"请输入账号\"\r\n              class=\"form-input\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <!-- 密码：必填项 -->\r\n        <el-form-item class=\"form-item\" v-if=\"tableName=='ordinaryUser'\" prop=\"password\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>密码：</label>\r\n          <el-input\r\n              v-model=\"registerForm.password\"\r\n              type=\"password\"\r\n              placeholder=\"请输入密码\"\r\n              class=\"form-input\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <!-- 确认密码：必填项 -->\r\n        <el-form-item class=\"form-item\" v-if=\"tableName=='ordinaryUser'\" prop=\"password2\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>确认密码：</label>\r\n          <el-input\r\n              v-model=\"registerForm.password2\"\r\n              type=\"password\"\r\n              placeholder=\"请再次输入密码\"\r\n              class=\"form-input\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <!-- 验证码：始终显示 -->\r\n        <el-form-item class=\"form-item\" prop=\"code\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>验证码：</label>\r\n          <div class=\"captcha-wrapper\">\r\n            <el-input\r\n                v-model=\"registerForm.code\"\r\n                placeholder=\"请输入验证码\"\r\n                class=\"form-input captcha-input\"\r\n            />\r\n            <canvas\r\n                ref=\"captchaCanvas\"\r\n                width=\"120\"\r\n                height=\"40\"\r\n                class=\"captcha-canvas\"\r\n                @click=\"generateCaptcha\"\r\n            ></canvas>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-button class=\"submit-button\" type=\"primary\" @click=\"submitForm('registerForm')\">\r\n          注册\r\n        </el-button>\r\n        <router-link class=\"login-link\" to=\"/login\">已有账户登录</router-link>\r\n      </el-form>\r\n    </div>\r\n    <footer class=\"bottom-footer\">\r\n      @ all right reserved by  甘肃政法大学 张恒毓 2025\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageFlag: '',\r\n      tableName: '',\r\n      registerForm: {},\r\n      rules: {},\r\n      // 新增：用于验证码校验\r\n      captcha: '', // 记录当前生成的验证码\r\n      ordinaryUseruserSexOptions: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    if (this.$route.query.pageFlag === 'register') {\r\n      this.tableName = this.$route.query.role;\r\n      if (this.tableName === 'ordinaryUser') {\r\n        this.registerForm = {\r\n          account: '',\r\n          password: '',\r\n          password2: '',\r\n          code: '', // 用于验证码输入\r\n          realName: '',\r\n          userSex: '',\r\n          mobile: '',\r\n          email: '',\r\n          idCard: '',\r\n          userAvatar: '',\r\n          money: '',\r\n          vip: '',\r\n        };\r\n        // 设置必填规则\r\n        this.rules.account = [{ required: true, message: '请输入账号', trigger: ['blur', 'change'] }];\r\n        this.rules.password = [\r\n          { required: true, message: '请输入密码', trigger: ['blur', 'change'] },\r\n          { validator: this.validatePassword, trigger: ['blur', 'change'] }\r\n        ];\r\n        this.rules.password2 = [\r\n          { required: true, message: '请再次输入密码', trigger: ['blur', 'change'] },\r\n          { validator: this.validatePassword2, trigger: ['blur', 'change'] }\r\n        ];\r\n        this.rules.code = [{ required: true, message: '请输入验证码', trigger: ['blur', 'change'] }];\r\n        // 其他可选规则\r\n        this.rules.mobile = [{ required: false, validator: this.$validate?.isMobile, trigger: 'blur' }];\r\n        this.rules.money = [{ required: false, validator: this.$validate?.isNumber, trigger: 'blur' }];\r\n      }\r\n      // 注册时始终生成验证码\r\n      this.generateCaptcha();\r\n    }\r\n  },\r\n  created() {\r\n    this.pageFlag = this.$route.query.pageFlag;\r\n    if (this.$route.query.pageFlag === 'register') {\r\n      if (this.tableName === 'ordinaryUser') {\r\n        // 备用：若需要在 created 中设置规则，可在此进行配置\r\n      }\r\n      this.ordinaryUseruserSexOptions = '男,女'.split(',');\r\n    }\r\n  },\r\n  methods: {\r\n    validatePassword(rule, value, callback) {\r\n      // 密码复杂度要求：至少6位，必须包含大写字母、小写字母、数字和特殊符号\r\n      const pattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_]).{6,}$/;\r\n      if (!value) {\r\n        this.$message.error('请输入密码');\r\n        return callback(new Error('请输入密码'));\r\n      }\r\n      if (!pattern.test(value)) {\r\n        this.$message.error('密码至少6位，需包含大写字母、小写字母、数字和特殊符号');\r\n        return callback(new Error('密码复杂度不符合要求'));\r\n      }\r\n      callback();\r\n    },\r\n    validatePassword2(rule, value, callback) {\r\n      if (!value) {\r\n        this.$message.error('请再次输入密码');\r\n        return callback(new Error('请再次输入密码'));\r\n      }\r\n      if (value !== this.registerForm.password) {\r\n        this.$message.error('两次密码输入不一致');\r\n        return callback(new Error('两次密码输入不一致'));\r\n      }\r\n      callback();\r\n    },\r\n    // 生成4位随机验证码，并调用绘制函数\r\n    generateCaptcha() {\r\n      const chars = 'ABCDEFGHJKMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789';\r\n      let result = '';\r\n      for (let i = 0; i < 4; i++) {\r\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n      }\r\n      this.captcha = result;\r\n      this.drawCaptcha();\r\n      // 清空用户输入的验证码\r\n      this.registerForm.code = '';\r\n    },\r\n    // 使用Canvas绘制验证码和干扰项\r\n    drawCaptcha() {\r\n      const canvas = this.$refs.captchaCanvas;\r\n      if (!canvas) return;\r\n      const ctx = canvas.getContext('2d');\r\n      const width = canvas.width;\r\n      const height = canvas.height;\r\n      ctx.clearRect(0, 0, width, height);\r\n      // 绘制背景\r\n      ctx.fillStyle = '#f0f0f0';\r\n      ctx.fillRect(0, 0, width, height);\r\n      // 绘制验证码字符\r\n      for (let i = 0; i < this.captcha.length; i++) {\r\n        const char = this.captcha[i];\r\n        const fontSize = 20 + Math.floor(Math.random() * 10);\r\n        const angle = Math.random() * 30 * Math.PI / 180;\r\n        ctx.font = `${fontSize}px Arial`;\r\n        ctx.fillStyle = `rgb(${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)})`;\r\n        ctx.save();\r\n        const x = 10 + i * 25;\r\n        const y = 25 + Math.floor(Math.random() * 10);\r\n        ctx.translate(x, y);\r\n        ctx.rotate(angle);\r\n        ctx.fillText(char, 0, 0);\r\n        ctx.restore();\r\n      }\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 5; i++) {\r\n        ctx.strokeStyle = `rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`;\r\n        ctx.beginPath();\r\n        ctx.moveTo(Math.random() * width, Math.random() * height);\r\n        ctx.lineTo(Math.random() * width, Math.random() * height);\r\n        ctx.stroke();\r\n      }\r\n      // 绘制干扰点\r\n      for (let i = 0; i < 30; i++) {\r\n        ctx.fillStyle = `rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`;\r\n        const x = Math.random() * width;\r\n        const y = Math.random() * height;\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, 1, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n      }\r\n    },\r\n    submitForm(formName) {\r\n      // 先对密码字段进行单独验证\r\n      this.$refs[formName].validateField('password', (error) => {\r\n        if (error) {\r\n          return;\r\n        }\r\n        // 再执行整体表单校验\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            const url = this.tableName + '/register';\r\n            // 额外校验（例如账号不能为空等），这里已由规则处理\r\n            this.$http.post(url, this.registerForm).then((res) => {\r\n              if (res.data.code === 0) {\r\n                this.$message({\r\n                  message: '注册成功',\r\n                  type: 'success',\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.$router.push('/login');\r\n                  },\r\n                });\r\n              } else {\r\n                this.$message.error(res.data.msg);\r\n              }\r\n            });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n/* 左侧插画区域 */\r\n.left-illustration {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.illustration-img {\r\n  width: 50%;\r\n  max-width: 800px;\r\n}\r\n\r\n/* 右侧表单区域 */\r\n.right-form {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n/* 表单整体样式 */\r\n.rgs-form {\r\n  background: #fff;\r\n  border-radius: 30px;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n  width: 700px;\r\n  padding: 30px 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n/* 表单头部 */\r\n.form-header {\r\n  margin: 40px;\r\n  font-size: 35px;\r\n  color: #333;\r\n  text-align: center;\r\n}\r\n\r\n/* 表单项 */\r\n.form-item {\r\n  width: 540px;\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.form-label {\r\n  width: 90px;\r\n  color: #666;\r\n  font-size: 14px;\r\n  text-align: right;\r\n  margin-right: 10px;\r\n}\r\n\r\n.required {\r\n  color: red;\r\n}\r\n\r\n.form-input {\r\n  width: 540px;\r\n  height: 50px;\r\n}\r\n\r\n/* 验证码样式 */\r\n.captcha-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.captcha-input {\r\n  width: 425px;\r\n}\r\n.captcha-canvas {\r\n  //margin-left: 10px;\r\n  cursor: pointer;\r\n  border: 1px solid #ddd;\r\n  height: 40px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* 提交按钮 */\r\n.submit-button {\r\n  width: 100px;\r\n  height: 44px;\r\n  margin: 20px 0;\r\n  font-size: 16px;\r\n  background: #409eff;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 30px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #66b1ff;\r\n  }\r\n}\r\n\r\n/* 链接样式 */\r\n.login-link {\r\n  color: #909399;\r\n  font-size: 14px;\r\n  text-decoration: none;\r\n  text-align: center;\r\n  display: block;\r\n  margin-top: 5px;\r\n}\r\n\r\n/* 脚注 */\r\n.bottom-footer {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 80px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  background-color: white;\r\n  font-size: 16px;\r\n  color: #909399;\r\n  border-top: 1px solid #ddd;\r\n}\r\n</style>\r\n"]}]}