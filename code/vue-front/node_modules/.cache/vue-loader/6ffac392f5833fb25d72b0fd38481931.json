{"remainingRequest":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\0javaproject\\code\\vue-front\\src\\pages\\equipmentRental\\add.vue?vue&type=style&index=0&id=b8cf26e0&rel=stylesheet%2Fscss&lang=scss&scoped=true","dependencies":[{"path":"D:\\0javaproject\\code\\vue-front\\src\\pages\\equipmentRental\\add.vue","mtime":1743954297702},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5lbC1kYXRlLWVkaXRvci5lbC1pbnB1dCB7Cgl3aWR0aDogYXV0bzsKfQoKLmFkZC11cGRhdGUtcHJldmlldyAuZWwtZm9ybS1pdGVtIC9kZWVwLyAuZWwtZm9ybS1pdGVtX19sYWJlbCB7CiAgcGFkZGluZzogMCAxMHB4IDAgMDsKICBjb2xvcjogIzY2NjsKICBmb250LXdlaWdodDogNTAwOwogIHdpZHRoOiA4MHB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBsaW5lLWhlaWdodDogNDBweDsKICB0ZXh0LWFsaWduOiByaWdodDsKfQoKLmFkZC11cGRhdGUtcHJldmlldyAuZWwtZm9ybS1pdGVtIC9kZWVwLyAuZWwtZm9ybS1pdGVtX19jb250ZW50IHsKICBtYXJnaW4tbGVmdDogODBweDsKfQoKLmFkZC11cGRhdGUtcHJldmlldyAuZWwtaW5wdXQgL2RlZXAvIC5lbC1pbnB1dF9faW5uZXIgewogIGJvcmRlcjogMXB4IHNvbGlkICNFMkUzRTU7CiAgYm9yZGVyLXJhZGl1czogMDsKICBwYWRkaW5nOiAwIDEycHg7CiAgYm94LXNoYWRvdzogbm9uZTsKICBvdXRsaW5lOiBub25lOwogIGNvbG9yOiAjMDAwOwogIHdpZHRoOiA1MDBweDsKICBmb250LXNpemU6IDE0cHg7CiAgaGVpZ2h0OiA0MHB4Owp9Ci5hZGQtdXBkYXRlLXByZXZpZXcgLmVsLWlucHV0LW51bWJlciAvZGVlcC8gLmVsLWlucHV0X19pbm5lciB7Cgl0ZXh0LWFsaWduOiBsZWZ0OwogIGJvcmRlcjogMXB4IHNvbGlkICNFMkUzRTU7CiAgYm9yZGVyLXJhZGl1czogMDsKICBwYWRkaW5nOiAwIDEycHg7CiAgYm94LXNoYWRvdzogbm9uZTsKICBvdXRsaW5lOiBub25lOwogIGNvbG9yOiAjMDAwOwogIHdpZHRoOiA1MDBweDsKICBmb250LXNpemU6IDE0cHg7CiAgaGVpZ2h0OiA0MHB4Owp9Ci5hZGQtdXBkYXRlLXByZXZpZXcgLmVsLWlucHV0LW51bWJlciAvZGVlcC8gLmVsLWlucHV0LW51bWJlcl9fZGVjcmVhc2UgewoJZGlzcGxheTogbm9uZTsKfQouYWRkLXVwZGF0ZS1wcmV2aWV3IC5lbC1pbnB1dC1udW1iZXIgL2RlZXAvIC5lbC1pbnB1dC1udW1iZXJfX2luY3JlYXNlIHsKCWRpc3BsYXk6IG5vbmU7Cn0KCi5hZGQtdXBkYXRlLXByZXZpZXcgLmVsLXNlbGVjdCAvZGVlcC8gLmVsLWlucHV0X19pbm5lciB7CiAgYm9yZGVyOiAxcHggc29saWQgI0UyRTNFNTsKICBib3JkZXItcmFkaXVzOiAwOwogIHBhZGRpbmc6IDAgMTBweDsKICBib3gtc2hhZG93OiBub25lOwogIG91dGxpbmU6IG5vbmU7CiAgY29sb3I6ICMwMDA7CiAgd2lkdGg6IDUwMHB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBoZWlnaHQ6IDQwcHg7Cn0KCi5hZGQtdXBkYXRlLXByZXZpZXcgLmVsLWRhdGUtZWRpdG9yIC9kZWVwLyAuZWwtaW5wdXRfX2lubmVyIHsKICBib3JkZXI6IDFweCBzb2xpZCAjRTJFM0U1OwogIGJvcmRlci1yYWRpdXM6IDA7CiAgcGFkZGluZzogMCAxMHB4IDAgMzBweDsKICBib3gtc2hhZG93OiBub25lOwogIG91dGxpbmU6IG5vbmU7CiAgY29sb3I6ICMwMDA7CiAgd2lkdGg6IDUwMHB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBoZWlnaHQ6IDQwcHg7Cn0KCi5hZGQtdXBkYXRlLXByZXZpZXcgL2RlZXAvIC5lbC11cGxvYWQtLXBpY3R1cmUtY2FyZCB7CgliYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKCWJvcmRlcjogMDsKCWJvcmRlci1yYWRpdXM6IDA7Cgl3aWR0aDogYXV0bzsKCWhlaWdodDogYXV0bzsKCWxpbmUtaGVpZ2h0OiBpbml0aWFsOwoJdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoKLmFkZC11cGRhdGUtcHJldmlldyAvZGVlcC8gLnVwbG9hZCAudXBsb2FkLWltZyB7CiAgYm9yZGVyOiAxcHggc29saWQgI0UyRTNFNTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYm9yZGVyLXJhZGl1czogNnB4OwogIGNvbG9yOiAjMDAwOwogIHdpZHRoOiAxMDBweDsKICBmb250LXNpemU6IDMycHg7CiAgbGluZS1oZWlnaHQ6IDEwMHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBoZWlnaHQ6IDEwMHB4Owp9CgouYWRkLXVwZGF0ZS1wcmV2aWV3IC9kZWVwLyAuZWwtdXBsb2FkLWxpc3QgLmVsLXVwbG9hZC1saXN0X19pdGVtIHsKICBib3JkZXI6IDFweCBzb2xpZCAjRTJFM0U1OwogIGN1cnNvcjogcG9pbnRlcjsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgY29sb3I6ICMwMDA7CiAgd2lkdGg6IDEwMHB4OwogIGZvbnQtc2l6ZTogMzJweDsKICBsaW5lLWhlaWdodDogMTAwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGhlaWdodDogMTAwcHg7Cn0KCi5hZGQtdXBkYXRlLXByZXZpZXcgL2RlZXAvIC5lbC11cGxvYWQgLmVsLWljb24tcGx1cyB7CiAgYm9yZGVyOiAxcHggc29saWQgI0UyRTNFNTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYm9yZGVyLXJhZGl1czogNnB4OwogIGNvbG9yOiAjMDAwOwogIHdpZHRoOiAxMDBweDsKICBmb250LXNpemU6IDMycHg7CiAgbGluZS1oZWlnaHQ6IDEwMHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBoZWlnaHQ6IDEwMHB4Owp9CgouYWRkLXVwZGF0ZS1wcmV2aWV3IC5lbC10ZXh0YXJlYSAvZGVlcC8gLmVsLXRleHRhcmVhX19pbm5lciB7CiAgYm9yZGVyOiAxcHggc29saWQgI0UyRTNFNTsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgcGFkZGluZzogMTJweDsKICBib3gtc2hhZG93OiBub25lOwogIG91dGxpbmU6IG5vbmU7CiAgY29sb3I6ICMwMDA7CiAgd2lkdGg6IDUwMHB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBoZWlnaHQ6IDEyMHB4Owp9Cg=="},{"version":3,"sources":["add.vue"],"names":[],"mappings":";AAyiBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add.vue","sourceRoot":"src/pages/equipmentRental","sourcesContent":["<template>\n<div :style='{\"width\":\"100%\",\"padding\":\"0 10%\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\n    <el-form\n\t  :style='{\"width\":\"100%\",\"boxShadow\":\"0px 4px 10px 0px rgba(0,0,0,0.3)\",\"padding\":\"20px\",\"position\":\"relative\",\"borderRadius\":\"30px\",\"background\":\"#fff\"}'\n      class=\"add-update-preview\"\n      ref=\"ruleForm\"\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      label-width=\"80px\"\n    >\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"设备编号\" prop=\"equipmentId\">\n            <el-input v-model=\"ruleForm.equipmentId\"\n                placeholder=\"设备编号\" clearable :disabled=\" false  ||ro.equipmentId\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"设备名称\" prop=\"equipmentName\">\n            <el-input v-model=\"ruleForm.equipmentName\"\n                placeholder=\"设备名称\" clearable :disabled=\" false  ||ro.equipmentName\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"型号\" prop=\"model\">\n            <el-input v-model=\"ruleForm.model\"\n                placeholder=\"型号\" clearable :disabled=\" false  ||ro.model\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"品牌\" prop=\"brand\">\n            <el-input v-model=\"ruleForm.brand\"\n                placeholder=\"品牌\" clearable :disabled=\" false  ||ro.brand\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"小时租金\" prop=\"rentalHourlyRate\">\n\t\t\t<el-input-number v-model=\"ruleForm.rentalHourlyRate\" placeholder=\"小时租金\" :disabled=\"ro.rentalHourlyRate\"></el-input-number>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"数量\" prop=\"quantity\">\n            <el-input v-model.number=\"ruleForm.quantity\"\n                placeholder=\"数量\" clearable :disabled=\" false  ||ro.quantity\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"租用时长\" prop=\"rentalDuration\">\n            <el-input v-model.number=\"ruleForm.rentalDuration\"\n                placeholder=\"租用时长\" clearable :disabled=\" false  ||ro.rentalDuration\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"总金额\" prop=\"amount\">\n              <el-input v-model=\"amount\" placeholder=\"总金额\" disabled></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"账号\" prop=\"account\">\n            <el-input v-model=\"ruleForm.account\"\n                placeholder=\"账号\" clearable :disabled=\" false  ||ro.account\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"姓名\" prop=\"realName\">\n            <el-input v-model=\"ruleForm.realName\"\n                placeholder=\"姓名\" clearable :disabled=\" false  ||ro.realName\"></el-input>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"下单时间\" prop=\"orderTime\">\n              <el-date-picker\n\t\t\t\t  :disabled=\" false  ||ro.orderTime\"\n                  value-format=\"yyyy-MM-dd HH:mm:ss\"\n                  v-model=\"ruleForm.orderTime\"\n                  type=\"datetime\"\n                  placeholder=\"下单时间\">\n              </el-date-picker>\n          </el-form-item>\n          <el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\"}' label=\"用途说明\" prop=\"usageNote\">\n            <el-input\n              type=\"textarea\"\n              :rows=\"8\"\n              placeholder=\"用途说明\"\n              v-model=\"ruleForm.usageNote\">\n            </el-input>\n          </el-form-item>\n\n      <el-form-item :style='{\"padding\":\"0\",\"margin\":\"0\"}'>\n        <el-button :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"color\":\"rgba(255, 255, 255, 1)\",\"borderRadius\":\"4px\",\"background\":\"#FFC174\",\"width\":\"128px\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}'  type=\"primary\" @click=\"onSubmit\">提交</el-button>\n        <el-button :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0\",\"margin\":\"0\",\"outline\":\"none\",\"color\":\"#fff\",\"borderRadius\":\"4px\",\"background\":\"#0B4D49\",\"width\":\"128px\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}' @click=\"back()\">返回</el-button>\n      </el-form-item>\n    </el-form>\n</div>\n</template>\n\n<script>\n  export default {\n    data() {\n\t  let self = this\n      return {\n        id: '',\n        baseUrl: '',\n        ro:{\n\t\t\t\tequipmentId : false,\n\t\t\t\tequipmentName : false,\n\t\t\t\tmodel : false,\n\t\t\t\tbrand : false,\n\t\t\t\tusageNote : false,\n\t\t\t\trentalHourlyRate : false,\n\t\t\t\tquantity : false,\n\t\t\t\trentalDuration : false,\n\t\t\t\tamount : false,\n\t\t\t\taccount : false,\n\t\t\t\trealName : false,\n\t\t\t\torderTime : false,\n\t\t\t\tisApproved : false,\n\t\t\t\tapprovedComments : false,\n\t\t\t\tpayStatus : false,\n        },\n        type: '',\n        userTableName: localStorage.getItem('UserTableName'),\n        ruleForm: {\n          equipmentId: '',\n          equipmentName: '',\n          model: '',\n          brand: '',\n          usageNote: '',\n          rentalHourlyRate: '',\n          quantity: '',\n          rentalDuration: '',\n          amount: '',\n          account: '',\n          realName: '',\n          orderTime: '',\n          payStatus: '',\n        },\n\n\n        rules: {\n          equipmentId: [\n          ],\n          equipmentName: [\n          ],\n          model: [\n          ],\n          brand: [\n          ],\n          usageNote: [\n          ],\n          rentalHourlyRate: [\n            { validator: this.$validate.isNumber, trigger: 'blur' },\n          ],\n          quantity: [\n            { validator: this.$validate.isIntNumer, trigger: 'blur' },\n          ],\n          rentalDuration: [\n            { validator: this.$validate.isIntNumer, trigger: 'blur' },\n          ],\n          amount: [\n            { validator: this.$validate.isNumber, trigger: 'blur' },\n          ],\n          account: [\n          ],\n          realName: [\n          ],\n          orderTime: [\n          ],\n          isApproved: [\n          ],\n          approvedComments: [\n          ],\n          payStatus: [\n          ],\n        },\n\t\tcenterType: false,\n      };\n    },\n    computed: {\n\n\n        amount:{\n            get: function () {\n                return 1*this.ruleForm.rentalHourlyRate*this.ruleForm.quantity*this.ruleForm.rentalDuration\n            }\n        },\n\n    },\n    components: {\n    },\n    created() {\n\t\tif(this.$route.query.centerType){\n\t\t\tthis.centerType = true\n\t\t}\n\t  //this.bg();\n      let type = this.$route.query.type ? this.$route.query.type : '';\n      this.init(type);\n      this.baseUrl = this.$config.baseUrl;\n      this.ruleForm.orderTime = this.getCurDateTime()\n    },\n    methods: {\n      getMakeZero(s) {\n          return s < 10 ? '0' + s : s;\n      },\n      // 下载\n      download(file){\n        window.open(`${file}`)\n      },\n      // 初始化\n      init(type) {\n        this.type = type;\n        if(type=='cross'){\n          var obj = JSON.parse(localStorage.getItem('crossObj'));\n          for (var o in obj){\n            if(o=='equipmentId'){\n              this.ruleForm.equipmentId = obj[o];\n              this.ro.equipmentId = true;\n              continue;\n            }\n            if(o=='equipmentName'){\n              this.ruleForm.equipmentName = obj[o];\n              this.ro.equipmentName = true;\n              continue;\n            }\n            if(o=='model'){\n              this.ruleForm.model = obj[o];\n              this.ro.model = true;\n              continue;\n            }\n            if(o=='brand'){\n              this.ruleForm.brand = obj[o];\n              this.ro.brand = true;\n              continue;\n            }\n            if(o=='usageNote'){\n              this.ruleForm.usageNote = obj[o];\n              this.ro.usageNote = true;\n              continue;\n            }\n            if(o=='rentalHourlyRate'){\n              this.ruleForm.rentalHourlyRate = obj[o];\n              this.ro.rentalHourlyRate = true;\n              continue;\n            }\n            if(o=='quantity'){\n              this.ruleForm.quantity = obj[o];\n              this.ro.quantity = true;\n              continue;\n            }\n            if(o=='rentalDuration'){\n              this.ruleForm.rentalDuration = obj[o];\n              this.ro.rentalDuration = true;\n              continue;\n            }\n            if(o=='amount'){\n              this.ruleForm.amount = obj[o];\n              this.ro.amount = true;\n              continue;\n            }\n            if(o=='account'){\n              this.ruleForm.account = obj[o];\n              this.ro.account = true;\n              continue;\n            }\n            if(o=='realName'){\n              this.ruleForm.realName = obj[o];\n              this.ro.realName = true;\n              continue;\n            }\n            if(o=='orderTime'){\n              this.ruleForm.orderTime = obj[o];\n              this.ro.orderTime = true;\n              continue;\n            }\n          }\n            this.ruleForm.quantity = 0;\n            this.ro.quantity = false;\n        }else if(type=='edit'){\n\t\t\tthis.info()\n\t\t}\n        // 获取用户信息\n        this.$http.get(this.userTableName + '/session', {emulateJSON: true}).then(res => {\n          if (res.data.code == 0) {\n            var json = res.data.data;\n            if((json.account!=''&&json.account) || json.account==0){\n                this.ruleForm.account = json.account;\n\t\t\t\tthis.ro.account = true;\n            }\n            if((json.realName!=''&&json.realName) || json.realName==0){\n                this.ruleForm.realName = json.realName;\n\t\t\t\tthis.ro.realName = true;\n            }\n          }\n        });\n\n\t\tif (localStorage.getItem('raffleType') && localStorage.getItem('raffleType') != null) {\n\t\t\tlocalStorage.removeItem('raffleType')\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onSubmit()\n\t\t\t}, 300)\n\t\t}\n      },\n\n    // 多级联动参数\n      // 多级联动参数\n      info() {\n        this.$http.get(`equipmentRental/detail/${this.$route.query.id}`, {emulateJSON: true}).then(res => {\n          if (res.data.code == 0) {\n            this.ruleForm = res.data.data;\n          }\n        });\n      },\n      // 提交\n      onSubmit() {\n\t\tthis.ruleForm.payStatus = '未支付'\n\t\t\tthis.ruleForm.amount = this.amount\n\t\t\tif(!this.ruleForm.quantity){\n\t\t\t\tthis.$message.error(\"数量不能为空\");\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar obj = JSON.parse(localStorage.getItem('crossObj'));\n\t\t\tvar table = localStorage.getItem('crossTable');\n\t\t\tobj.quantity = obj.quantity - this.ruleForm.quantity\n\t\t\tif(obj.quantity<0){\n\t\t\t\tthis.$message.error(\"数量不足\");\n\t\t\t\treturn\n\t\t\t}\n\t\t\t//this.$http.post(table+`/update`, obj).then(res => {});\n\t\t\t//更新跨表属性\n\t\t\tvar crossUserId;\n\t\t\tvar crossRefId;\n\t\t\tvar crossoptnum;\n\t\t\tthis.$refs[\"ruleForm\"].validate(valid => {\n\t\t\t\tif(valid) {\n\t\t\t\t\tif(this.type=='cross'){\n\t\t\t\t\t\tvar statusColumnName = localStorage.getItem('statusColumnName');\n\t\t\t\t\t\tvar statusColumnValue = localStorage.getItem('statusColumnValue');\n\t\t\t\t\t\tif(statusColumnName && statusColumnName!='') {\n\t\t\t\t\t\t\tvar obj = JSON.parse(localStorage.getItem('crossObj'));\n\t\t\t\t\t\t\tif(!statusColumnName.startsWith(\"[\")) {\n\t\t\t\t\t\t\t\tfor (var o in obj){\n\t\t\t\t\t\t\t\t\tif(o==statusColumnName){\n\t\t\t\t\t\t\t\t\t\tobj[o] = statusColumnValue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar table = localStorage.getItem('crossTable');\n\t\t\t\t\t\t\t\tthis.$http.post(table+'/update', obj).then(res => {});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcrossUserId=Number(localStorage.getItem('frontUserId'));\n\t\t\t\t\t\t\t\tcrossRefId=obj['id'];\n\t\t\t\t\t\t\t\tcrossoptnum=localStorage.getItem('statusColumnName');\n\t\t\t\t\t\t\t\tcrossoptnum=crossoptnum.replace(/\\[/,\"\").replace(/\\]/,\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(crossRefId && crossUserId) {\n\t\t\t\t\t\tthis.ruleForm.crossUserId=crossUserId;\n\t\t\t\t\t\tthis.ruleForm.crossRefId=crossRefId;\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\t\tcrossUserId:crossUserId,\n\t\t\t\t\t\t\tcrossRefId:crossRefId,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$http.get('equipmentRental/list', {\n\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\tif(res.data.data.total>=crossoptnum) {\n\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\tmessage: localStorage.getItem('tips'),\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 跨表计算\n\t\t\t\t\t\t\t\tvar obj = JSON.parse(localStorage.getItem('crossObj'));\n\t\t\t\t\t\t\t\tvar table = localStorage.getItem('crossTable');\n\n\t\t\t\t\t\t\t\tobj.quantity = parseFloat(obj.quantity) - parseFloat(this.ruleForm.quantity)\n\n\t\t\t\t\t\t\t\tthis.$http.post(table+`/update`,obj).then(res => {});\n\t\t\t\t\t\t\t\tthis.$http.post(`equipmentRental/${this.ruleForm.id?'update':this.centerType?'save':'add'}`, this.ruleForm).then(res => {\n\t\t\t\t\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\t\t\tmessage: '操作成功',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\t\t\tmessage: res.data.msg,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar obj = JSON.parse(localStorage.getItem('crossObj'));\n\t\t\t\t\t\tvar table = localStorage.getItem('crossTable');\n\n\t\t\t\t\t\tobj.quantity = parseFloat(obj.quantity) - parseFloat(this.ruleForm.quantity)\n\n\t\t\t\t\t\tthis.$http.post(table+`/update`,obj).then(res => {});\n\t\t\t\t\t\tthis.$http.post(`equipmentRental/${this.ruleForm.id?'update':this.centerType?'save':'add'}`, this.ruleForm).then(res => {\n\t\t\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\tmessage: '操作成功',\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\tmessage: res.data.msg,\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 获取uuid\n\t\tgetUUID () {\n\t\t\treturn new Date().getTime();\n\t\t},\n\t\t// 返回\n\t\tback() {\n\t\t\tthis.$router.go(-1);\n\t\t},\n    }\n  };\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n\t.el-date-editor.el-input {\n\t\twidth: auto;\n\t}\n\n\t.add-update-preview .el-form-item /deep/ .el-form-item__label {\n\t  padding: 0 10px 0 0;\n\t  color: #666;\n\t  font-weight: 500;\n\t  width: 80px;\n\t  font-size: 14px;\n\t  line-height: 40px;\n\t  text-align: right;\n\t}\n\n\t.add-update-preview .el-form-item /deep/ .el-form-item__content {\n\t  margin-left: 80px;\n\t}\n\n\t.add-update-preview .el-input /deep/ .el-input__inner {\n\t  border: 1px solid #E2E3E5;\n\t  border-radius: 0;\n\t  padding: 0 12px;\n\t  box-shadow: none;\n\t  outline: none;\n\t  color: #000;\n\t  width: 500px;\n\t  font-size: 14px;\n\t  height: 40px;\n\t}\n\t.add-update-preview .el-input-number /deep/ .el-input__inner {\n\t\ttext-align: left;\n\t  border: 1px solid #E2E3E5;\n\t  border-radius: 0;\n\t  padding: 0 12px;\n\t  box-shadow: none;\n\t  outline: none;\n\t  color: #000;\n\t  width: 500px;\n\t  font-size: 14px;\n\t  height: 40px;\n\t}\n\t.add-update-preview .el-input-number /deep/ .el-input-number__decrease {\n\t\tdisplay: none;\n\t}\n\t.add-update-preview .el-input-number /deep/ .el-input-number__increase {\n\t\tdisplay: none;\n\t}\n\n\t.add-update-preview .el-select /deep/ .el-input__inner {\n\t  border: 1px solid #E2E3E5;\n\t  border-radius: 0;\n\t  padding: 0 10px;\n\t  box-shadow: none;\n\t  outline: none;\n\t  color: #000;\n\t  width: 500px;\n\t  font-size: 14px;\n\t  height: 40px;\n\t}\n\n\t.add-update-preview .el-date-editor /deep/ .el-input__inner {\n\t  border: 1px solid #E2E3E5;\n\t  border-radius: 0;\n\t  padding: 0 10px 0 30px;\n\t  box-shadow: none;\n\t  outline: none;\n\t  color: #000;\n\t  width: 500px;\n\t  font-size: 14px;\n\t  height: 40px;\n\t}\n\n\t.add-update-preview /deep/ .el-upload--picture-card {\n\t\tbackground: transparent;\n\t\tborder: 0;\n\t\tborder-radius: 0;\n\t\twidth: auto;\n\t\theight: auto;\n\t\tline-height: initial;\n\t\tvertical-align: middle;\n\t}\n\n\t.add-update-preview /deep/ .upload .upload-img {\n\t  border: 1px solid #E2E3E5;\n\t  cursor: pointer;\n\t  border-radius: 6px;\n\t  color: #000;\n\t  width: 100px;\n\t  font-size: 32px;\n\t  line-height: 100px;\n\t  text-align: center;\n\t  height: 100px;\n\t}\n\n\t.add-update-preview /deep/ .el-upload-list .el-upload-list__item {\n\t  border: 1px solid #E2E3E5;\n\t  cursor: pointer;\n\t  border-radius: 6px;\n\t  color: #000;\n\t  width: 100px;\n\t  font-size: 32px;\n\t  line-height: 100px;\n\t  text-align: center;\n\t  height: 100px;\n\t}\n\n\t.add-update-preview /deep/ .el-upload .el-icon-plus {\n\t  border: 1px solid #E2E3E5;\n\t  cursor: pointer;\n\t  border-radius: 6px;\n\t  color: #000;\n\t  width: 100px;\n\t  font-size: 32px;\n\t  line-height: 100px;\n\t  text-align: center;\n\t  height: 100px;\n\t}\n\n\t.add-update-preview .el-textarea /deep/ .el-textarea__inner {\n\t  border: 1px solid #E2E3E5;\n\t  border-radius: 4px;\n\t  padding: 12px;\n\t  box-shadow: none;\n\t  outline: none;\n\t  color: #000;\n\t  width: 500px;\n\t  font-size: 14px;\n\t  height: 120px;\n\t}\n</style>\n"]}]}