{"remainingRequest":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\0javaproject\\code\\vue-front\\src\\pages\\shop-order\\list.vue?vue&type=style&index=0&id=7aae8a22&rel=stylesheet%2Fscss&lang=scss&scoped=true","dependencies":[{"path":"D:\\0javaproject\\code\\vue-front\\src\\pages\\shop-order\\list.vue","mtime":1739012201324},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zZWN0aW9uIHsKICB3aWR0aDogMTAwMHB4OwogIG1hcmdpbjogMCBhdXRvOwp9Cgouc2hhbmdwaW4gewogIGRpc3BsYXk6IGZsZXg7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5lbC1wYWdpbmF0aW9uX190b3RhbCB7CgltYXJnaW46IDAgMTBweCAwIDA7Cgljb2xvcjogIzY2NjsKCWZvbnQtd2VpZ2h0OiA0MDA7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cgl2ZXJ0aWNhbC1hbGlnbjogdG9wOwoJZm9udC1zaXplOiAxM3B4OwoJbGluZS1oZWlnaHQ6IDI4cHg7CgloZWlnaHQ6IDI4cHg7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5idG4tcHJldiB7Cglib3JkZXI6IG5vbmU7Cglib3JkZXItcmFkaXVzOiAycHg7CglwYWRkaW5nOiAwIDEwcHg7CgltYXJnaW46IDAgNXB4OwoJY29sb3I6ICNmZmY7CgliYWNrZ3JvdW5kOiAjMEQ1NDUxOwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJdmVydGljYWwtYWxpZ246IHRvcDsKCWZvbnQtc2l6ZTogMTNweDsKCWxpbmUtaGVpZ2h0OiAyOHB4OwoJbWluLXdpZHRoOiAzNXB4OwoJaGVpZ2h0OiAyOHB4Owp9CgojcGFnaW5hdGlvbi5lbC1wYWdpbmF0aW9uIC9kZWVwLyAuYnRuLW5leHQgewoJYm9yZGVyOiBub25lOwoJYm9yZGVyLXJhZGl1czogMnB4OwoJcGFkZGluZzogMCAxMHB4OwoJbWFyZ2luOiAwIDVweDsKCWNvbG9yOiAjZmZmOwoJYmFja2dyb3VuZDogI0ZGQzE3NDsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCXZlcnRpY2FsLWFsaWduOiB0b3A7Cglmb250LXNpemU6IDEzcHg7CglsaW5lLWhlaWdodDogMjhweDsKCW1pbi13aWR0aDogMzVweDsKCWhlaWdodDogMjhweDsKfQoKI3BhZ2luYXRpb24uZWwtcGFnaW5hdGlvbiAvZGVlcC8gLmJ0bi1wcmV2OmRpc2FibGVkIHsKCWJvcmRlcjogbm9uZTsKCWN1cnNvcjogbm90LWFsbG93ZWQ7Cglib3JkZXItcmFkaXVzOiAycHg7CglwYWRkaW5nOiAwIDEwcHg7CgltYXJnaW46IDAgNXB4OwoJY29sb3I6ICNDMEM0Q0M7CgliYWNrZ3JvdW5kOiAjZjRmNGY1OwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJdmVydGljYWwtYWxpZ246IHRvcDsKCWZvbnQtc2l6ZTogMTNweDsKCWxpbmUtaGVpZ2h0OiAyOHB4OwoJaGVpZ2h0OiAyOHB4Owp9CgojcGFnaW5hdGlvbi5lbC1wYWdpbmF0aW9uIC9kZWVwLyAuYnRuLW5leHQ6ZGlzYWJsZWQgewoJYm9yZGVyOiBub25lOwoJY3Vyc29yOiBub3QtYWxsb3dlZDsKCWJvcmRlci1yYWRpdXM6IDJweDsKCXBhZGRpbmc6IDAgMTBweDsKCW1hcmdpbjogMCA1cHg7Cgljb2xvcjogI0MwQzRDQzsKCWJhY2tncm91bmQ6ICNmNGY0ZjU7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cgl2ZXJ0aWNhbC1hbGlnbjogdG9wOwoJZm9udC1zaXplOiAxM3B4OwoJbGluZS1oZWlnaHQ6IDI4cHg7CgloZWlnaHQ6IDI4cHg7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5lbC1wYWdlciB7CglwYWRkaW5nOiAwOwoJbWFyZ2luOiAwOwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJdmVydGljYWwtYWxpZ246IHRvcDsKfQoKI3BhZ2luYXRpb24uZWwtcGFnaW5hdGlvbiAvZGVlcC8gLmVsLXBhZ2VyIC5udW1iZXIgewoJY3Vyc29yOiBwb2ludGVyOwoJcGFkZGluZzogMCA0cHg7CgltYXJnaW46IDAgNXB4OwoJY29sb3I6ICMwMDA7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cgl2ZXJ0aWNhbC1hbGlnbjogdG9wOwoJZm9udC1zaXplOiAxM3B4OwoJbGluZS1oZWlnaHQ6IDI4cHg7Cglib3JkZXItcmFkaXVzOiAycHg7CgliYWNrZ3JvdW5kOiAjQ0JDQkNCOwoJdGV4dC1hbGlnbjogY2VudGVyOwoJbWluLXdpZHRoOiAzMHB4OwoJaGVpZ2h0OiAyOHB4Owp9CgojcGFnaW5hdGlvbi5lbC1wYWdpbmF0aW9uIC9kZWVwLyAuZWwtcGFnZXIgLm51bWJlcjpob3ZlciB7CgljdXJzb3I6IHBvaW50ZXI7CglwYWRkaW5nOiAwIDRweDsKCW1hcmdpbjogMCA1cHg7Cgljb2xvcjogI2ZmZjsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCXZlcnRpY2FsLWFsaWduOiB0b3A7Cglmb250LXNpemU6IDEzcHg7CglsaW5lLWhlaWdodDogMjhweDsKCWJvcmRlci1yYWRpdXM6IDJweDsKCWJhY2tncm91bmQ6ICNGRkMxNzQ7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7CgltaW4td2lkdGg6IDMwcHg7CgloZWlnaHQ6IDI4cHg7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5lbC1wYWdlciAubnVtYmVyLmFjdGl2ZSB7CgljdXJzb3I6IGRlZmF1bHQ7CglwYWRkaW5nOiAwIDRweDsKCW1hcmdpbjogMCA1cHg7Cgljb2xvcjogI0ZGRjsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCXZlcnRpY2FsLWFsaWduOiB0b3A7Cglmb250LXNpemU6IDEzcHg7CglsaW5lLWhlaWdodDogMjhweDsKCWJvcmRlci1yYWRpdXM6IDJweDsKCWJhY2tncm91bmQ6ICNGRkMxNzQ7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7CgltaW4td2lkdGg6IDMwcHg7CgloZWlnaHQ6IDI4cHg7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5lbC1wYWdpbmF0aW9uX19zaXplcyB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cgl2ZXJ0aWNhbC1hbGlnbjogdG9wOwoJZm9udC1zaXplOiAxM3B4OwoJbGluZS1oZWlnaHQ6IDI4cHg7CgloZWlnaHQ6IDI4cHg7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5lbC1wYWdpbmF0aW9uX19zaXplcyAuZWwtaW5wdXQgewoJbWFyZ2luOiAwIDVweDsKCXdpZHRoOiAxMDBweDsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKI3BhZ2luYXRpb24uZWwtcGFnaW5hdGlvbiAvZGVlcC8gLmVsLXBhZ2luYXRpb25fX3NpemVzIC5lbC1pbnB1dCAuZWwtaW5wdXRfX2lubmVyIHsKCWJvcmRlcjogMXB4IHNvbGlkICNEQ0RGRTY7CgljdXJzb3I6IHBvaW50ZXI7CglwYWRkaW5nOiAwIDI1cHggMCA4cHg7Cgljb2xvcjogIzYwNjI2NjsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCWZvbnQtc2l6ZTogMTNweDsKCWxpbmUtaGVpZ2h0OiAyOHB4OwoJYm9yZGVyLXJhZGl1czogM3B4OwoJb3V0bGluZTogMDsKCWJhY2tncm91bmQ6ICNGRkY7Cgl3aWR0aDogMTAwJTsKCXRleHQtYWxpZ246IGNlbnRlcjsKCWhlaWdodDogMjhweDsKfQoKI3BhZ2luYXRpb24uZWwtcGFnaW5hdGlvbiAvZGVlcC8gLmVsLXBhZ2luYXRpb25fX3NpemVzIC5lbC1pbnB1dCBzcGFuLmVsLWlucHV0X19zdWZmaXggewoJdG9wOiAwOwoJcG9zaXRpb246IGFic29sdXRlOwoJcmlnaHQ6IDA7CgloZWlnaHQ6IDEwMCU7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5lbC1wYWdpbmF0aW9uX19zaXplcyAuZWwtaW5wdXQgLmVsLWlucHV0X19zdWZmaXggLmVsLXNlbGVjdF9fY2FyZXQgewoJY3Vyc29yOiBwb2ludGVyOwoJY29sb3I6ICNDMEM0Q0M7Cgl3aWR0aDogMjVweDsKCWZvbnQtc2l6ZTogMTRweDsKCWxpbmUtaGVpZ2h0OiAyOHB4OwoJdGV4dC1hbGlnbjogY2VudGVyOwp9CgojcGFnaW5hdGlvbi5lbC1wYWdpbmF0aW9uIC9kZWVwLyAuZWwtcGFnaW5hdGlvbl9fanVtcCB7CgltYXJnaW46IDAgMCAwIDI0cHg7Cgljb2xvcjogIzYwNjI2NjsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCXZlcnRpY2FsLWFsaWduOiB0b3A7Cglmb250LXNpemU6IDEzcHg7CglsaW5lLWhlaWdodDogMjhweDsKCWhlaWdodDogMjhweDsKfQoKI3BhZ2luYXRpb24uZWwtcGFnaW5hdGlvbiAvZGVlcC8gLmVsLXBhZ2luYXRpb25fX2p1bXAgLmVsLWlucHV0IHsKCWJvcmRlci1yYWRpdXM6IDNweDsKCXBhZGRpbmc6IDAgMnB4OwoJbWFyZ2luOiAwIDJweDsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCXdpZHRoOiA1MHB4OwoJZm9udC1zaXplOiAxNHB4OwoJbGluZS1oZWlnaHQ6IDE4cHg7Cglwb3NpdGlvbjogcmVsYXRpdmU7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7CgloZWlnaHQ6IDI4cHg7Cn0KCiNwYWdpbmF0aW9uLmVsLXBhZ2luYXRpb24gL2RlZXAvIC5lbC1wYWdpbmF0aW9uX19qdW1wIC5lbC1pbnB1dCAuZWwtaW5wdXRfX2lubmVyIHsKCWJvcmRlcjogMXB4IHNvbGlkICNEQ0RGRTY7CgljdXJzb3I6IHBvaW50ZXI7CglwYWRkaW5nOiAwIDNweDsKCWNvbG9yOiAjNjA2MjY2OwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJZm9udC1zaXplOiAxNHB4OwoJbGluZS1oZWlnaHQ6IDI4cHg7Cglib3JkZXItcmFkaXVzOiAzcHg7CglvdXRsaW5lOiAwOwoJYmFja2dyb3VuZDogI0ZGRjsKCXdpZHRoOiAxMDAlOwoJdGV4dC1hbGlnbjogY2VudGVyOwoJaGVpZ2h0OiAyOHB4Owp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AAykBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/pages/shop-order","sourcesContent":["<template>\r\n<div :style='{\"width\":\"100%\",\"padding\":\"0 10%\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\r\n    <el-button :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0 10px\",\"margin\":\"0 5px 0 0\",\"outline\":\"none\",\"color\":\"#000\",\"borderRadius\":\"4px\",\"background\":\"#FFC174\",\"width\":\"auto\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}' type=\"warning\" size=\"mini\" @click=\"backClick\" class=\"el-icon-back\">返回</el-button>\r\n    <div class=\"section-title\" :style='{\"margin\":\"10px auto 0\",\"color\":\"#FFC174\",\"borderRadius\":\"60px\",\"textAlign\":\"center\",\"background\":\"#8E4033\",\"width\":\"80%\",\"fontSize\":\"24px\",\"lineHeight\":\"54px\",\"fontWeight\":\"bold\"}'>我的订单</div>\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n      <el-tab-pane label=\"未支付\" name=\"未支付\"></el-tab-pane>\r\n      <el-tab-pane label=\"已支付\" name=\"已支付\"></el-tab-pane>\r\n      <el-tab-pane label=\"已发货\" name=\"已发货\"></el-tab-pane>\r\n      <el-tab-pane label=\"已完成\" name=\"已完成\"></el-tab-pane>\r\n      <el-tab-pane label=\"已退款\" name=\"已退款\"></el-tab-pane>\r\n      <el-tab-pane label=\"已取消\" name=\"已取消\"></el-tab-pane>\r\n    </el-tabs>\r\n    <el-table :data=\"tableData\" style=\"width: 100%\">\r\n      <el-table-column label=\"订单编号\" prop=\"orderId\"></el-table-column>\r\n      <el-table-column label=\"商品\" align=\"center\" width=\"200px\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"shangpin\">\r\n            <el-image style=\"width: 100px; height: 100px;flex: 1\" :src=\"baseUrl + scope.row.picture\" fit=\"fill\"></el-image>\r\n            <span style=\"margin-left: 10px;flex: 1\" >{{ scope.row.productTitle }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"价格\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"(scope.row.type == 1 || scope.row.type == 3)&&scope.row.price>0\"><span :style='{\"fontSize\":\"12px\"}'>￥</span>{{ scope.row.price }}</span>\r\n          <span v-if=\"scope.row.type == 2&&scope.row.price>0\">{{ scope.row.price }}积分</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"数量\" prop=\"quantity\"></el-table-column>\r\n      <el-table-column label=\"总价\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"(scope.row.type == 1 || scope.row.type == 3)&&scope.row.total>0\"><span :style='{\"fontSize\":\"12px\"}'>￥</span>{{ scope.row.total }}</span>\r\n          <span v-if=\"scope.row.type == 2&&scope.row.total>0\">{{ scope.row.total }}积分</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"地址\" prop=\"address\"></el-table-column>\r\n      <el-table-column label=\"电话\" prop=\"tel\"></el-table-column>\r\n      <el-table-column label=\"收货人\" prop=\"consignee\"></el-table-column>\r\n      <el-table-column label=\"下单时间\" prop=\"addTime\"></el-table-column>\r\n      <el-table-column label=\"备注\" prop=\"remark\"></el-table-column>\r\n      <el-table-column label=\"退货审核\" prop=\"isApproved\">\r\n\t\t<template slot-scope=\"scope\">\r\n\t\t  <el-tag type=\"success\" v-if=\"scope.row.isApproved=='是'\">已通过</el-tag>\r\n\t\t  <el-tag type=\"warning\" v-if=\"scope.row.isApproved=='待审核'\">待审核</el-tag>\r\n\t\t  <el-tag type=\"danger\" v-if=\"scope.row.isApproved=='否'\">未通过</el-tag>\r\n\t\t</template>\r\n\t  </el-table-column>\r\n      <el-table-column label=\"审核回复\" prop=\"approvedComments\"></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-show=\"activeName == '未支付'\" type=\"success\" :style='{\"margin\":\"2px auto\",}' size=\"mini\" @click=\"pay(scope.row)\">支付</el-button>\r\n          <el-button v-show=\"activeName == '未支付'\" type=\"danger\" :style='{\"margin\":\"2px auto\",}' size=\"mini\" @click=\"cancel(scope.row)\">取消</el-button>\r\n          <el-button v-show=\"activeName == '已支付'\" type=\"danger\" :style='{\"margin\":\"2px auto\",}' size=\"mini\" @click=\"refund(scope.row)\">{{scope.row.total>0?'退款':'退订'}}</el-button>\r\n          <el-button v-if=\"scope.row.logistics\" type=\"warning\" :style='{\"margin\":\"2px auto\",}' size=\"mini\" @click=\"logistics(scope.row)\">物流</el-button>\r\n          <el-button v-if=\"activeName == '已完成'&&scope.row.isApproved==''\" type=\"danger\" :style='{\"margin\":\"2px auto\",}' size=\"mini\" @click=\"returnGood(scope.row)\">退货</el-button>\r\n          <el-button v-show=\"activeName == '已完成'\" type=\"primary\" :style='{\"margin\":\"2px auto\",}' size=\"mini\" @click=\"toDetail(scope.row)\">评价</el-button>\r\n          <el-button v-show=\"activeName == '已发货'\" type=\"success\" :style='{\"margin\":\"2px auto\",}' size=\"mini\" @click=\"confirm(scope.row)\">确认收货</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    \r\n\t<el-pagination\r\n\t  background\r\n\t  id=\"pagination\" class=\"pagination\"\r\n\t  :pager-count=\"7\"\r\n\t  :page-size=\"pageSize\"\r\n\t  prev-text=\"上一页\"\r\n\t  next-text=\"下一页\"\r\n\t  :hide-on-single-page=\"true\"\r\n\t  :layout='[\"prev\",\"pager\",\"next\"].join()'\r\n\t  :total=\"total\"\r\n\t  :style='{\"width\":\"1200px\",\"padding\":\"0\",\"margin\":\"10px auto\",\"whiteSpace\":\"nowrap\",\"color\":\"#333\",\"fontWeight\":\"500\"}'\r\n\t  @current-change=\"curChange\"\r\n\t  @prev-click=\"prevClick\"\r\n\t  @next-click=\"nextClick\"\r\n\t></el-pagination>\r\n\r\n    <el-dialog title=\"物流信息\" :visible.sync=\"logisticsVisible\" width=\"30%\">\r\n        <div v-html=\"logisticsText\"></div>\r\n    </el-dialog>\r\n\t\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import config from '@/config/config'\r\n  export default {\r\n    data() {\r\n      return {\r\n\t\tlayouts: '',\r\n        baseUrl: config.baseUrl,\r\n        activeName: '未支付',\r\n        tableData: [],\r\n        total: 1,\r\n        pageSize: 10,\r\n        totalPage: 1,\r\n        session: {},\r\n        userTableName: localStorage.getItem('UserTableName'),\r\n        logisticsVisible: false,\r\n        logisticsText: ''\r\n      }\r\n    },\r\n    created() {\r\n      this.getSession();\r\n      this.getMyOrderList(1);\r\n    },\r\n    methods: {\r\n      backClick() {\r\n          this.$router.push('/index/center')\r\n      },\r\n      getSession() {\r\n        this.$http.get(this.userTableName+'/session', {emulateJSON: true}).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.session = res.data.data;\r\n          }\r\n        });\r\n      },\r\n      handleClick(tab, event) {\r\n        tab.activeName = event.target.outerText;\r\n        this.getMyOrderList(1);\r\n      },\r\n      toDetail(row) {\r\n          this.$router.push({path: '/index/'+row.tableName+'Detail', query: {id: row.productId}});\r\n      },\r\n      handleAction(index, row) {\r\n        if (index == '已支付' && this.session.money < row.total) {\r\n          this.$message.error('余额不足，请先充值');\r\n          return;\r\n        }\r\n\r\n        row.status = index;\r\n        this.$http.post('orders/update', row).then(res => {\r\n          if (res.data.code == 0) {\r\n            if (index == '已支付') this.session.money -= row.total;\r\n            if (index == '已退款' && row.type == 1) this.session.money += row.total;\r\n            if (index == '已退款' && row.type == 2) this.session.jifen += row.total;\r\n            if (index == '已支付' || index == '已退款') {\r\n              this.session.money = this.session.money.toFixed(2);\r\n              this.$http.post(this.userTableName+'/update', this.session).then(res => {});\r\n            }\r\n            this.$message({\r\n              message: '操作成功',\r\n              type: 'success',\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.getMyOrderList(1);\r\n              }\r\n            });\r\n          }\r\n        });\r\n      },\r\n        // 退款\r\n        refund(item) {\r\n            this.$confirm(`${item.total>0?'确定退款吗？退款金额将返回账户中。':'是否退订？'}`, \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\"\r\n            }).then(() => {\r\n\t\t\t\t\r\n                // 获取商品详情信息\r\n                this.$http.get(item.tableName+'/info/'+item.productId, {}).then(res => {\r\n                    // 商品信息\r\n                    let good = res.data.data;\r\n                    // 用户当前用户信息\r\n                    let table = localStorage.getItem(\"UserTableName\");\r\n                    this.$http.get(table+'/session', {}).then(res => {\r\n                        this.user = res.data.data;\r\n                        if(item.type==1||item.type==3) {\r\n                            // 如果该商品存在积分\r\n                            if (good.jf) {\r\n                                this.user.jf = (Number(this.user.jf) - Number(item.total)).toFixed(2);\r\n                            }\r\n                            this.user.money = (Number(this.user.money) + Number(item.total)).toFixed(2);\r\n                            // 更新用户余额\r\n                            this.$http.post(table+'/update', this.user).then(res => {\r\n                                item.status = '已退款'\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem('sessionForm',JSON.stringify(this.user))\r\n                                this.$http.post(`orders/update`, item).then(res => {\r\n                                    if(item.tableName == `photographyWorks`){\r\n                                        // 加回库存数量\r\n                                        good.goodsStocks = good.goodsStocks + item.quantity;\r\n                                        this.$http.post(`photographyWorks/update`, good).then(res => {\r\n                                        });\r\n                                    }\r\n                                    this.$message({\r\n                                      message: `${item.total>0?'退款成功':'退订成功'}`,\r\n                                      type: 'success',\r\n                                      duration: 1500,\r\n                                      onClose: () => {\r\n                                        this.getMyOrderList(1);\r\n                                      }\r\n                                    });\r\n                                });\r\n                            });\r\n                        } else if(item.type==2) {\r\n                            this.user.jf = Number(this.user.jf) + Number(item.total);\r\n                            // 更新用户余额\r\n                            this.$http.post(table+'/update', this.user).then(res => {\r\n                                item.status = '已退款'\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem('sessionForm',JSON.stringify(this.user))\r\n                                this.$http.post(`orders/update`, item).then(res => {\r\n                                    if(item.tableName == `photographyWorks`){\r\n                                        // 加回库存数量\r\n                                        good.goodsStocks = good.goodsStocks + item.quantity;\r\n                                        this.$http.post(`photographyWorks/update`, good).then(res => {\r\n                                        });\r\n                                    }\r\n                                    this.$message({\r\n                                      message: `${item.total>0?'退款成功':'退订成功'}`,\r\n                                      type: 'success',\r\n                                      duration: 1500,\r\n                                      onClose: () => {\r\n                                        this.getMyOrderList(1);\r\n                                      }\r\n                                    });\r\n                                });\r\n                            });\r\n\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        },\r\n        //物流\r\n        logistics(row) {\r\n            this.logisticsText = row.logistics;\r\n            this.logisticsVisible = true;\r\n        },\r\n        //退货\r\n        returnGood(item) {\r\n            this.$confirm(`确定退货吗？审核通过后退款金额将返回账户中。`, \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\"\r\n            }).then(() => {\r\n\t\t\t\titem.isApproved = '待审核'\r\n\t\t\t\tthis.$http.post(`orders/update`, item).then(res => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '申请成功',\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\tthis.getMyOrderList(1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n            });\r\n        },\r\n\r\n        // 支付\r\n        pay(item) {\r\n            // 获取商品详情信息\r\n            this.$http.get(item.tableName+'/info/'+item.productId, {}).then(res => {\r\n                // 商品信息\r\n                let data = res.data.data;\r\n                // 用户当前用户信息\r\n                let table = localStorage.getItem(\"UserTableName\");\r\n                this.$http.get(table+'/session', {}).then(res => {\r\n                    this.user = res.data.data;\r\n                    // 判断余额是否充足\r\n                    if (Number(this.user.money) < Number(item.total)) {\r\n                        this.$message({\r\n                            message: '余额不足，请先充值',\r\n                            type: 'error',\r\n                            duration: 1500\r\n                        });\r\n                        return\r\n                    }\r\n                    // 如果该商品存在积分\r\n                    if (data.jf) {\r\n                        this.user.jf = Number((Number(this.user.jf) + Number(item.total)).toFixed(2));\r\n                    }\r\n                    this.user.money = Number((Number(this.user.money) - Number(item.total)).toFixed(2));\r\n                    // 更新用户余额\r\n                    this.$http.post(table+'/update', this.user).then(res => {\r\n                        item.status = '已支付'\r\n\t\t\t\t\t\tlocalStorage.setItem('sessionForm',JSON.stringify(this.user))\r\n                        this.$http.post(`orders/update`, item).then(res => {\r\n                            this.$message({\r\n                              message: '支付成功',\r\n                              type: 'success',\r\n                              duration: 1500,\r\n                              onClose: () => {\r\n                                this.getMyOrderList(1);\r\n                              }\r\n                            });\r\n                        });\r\n                    });\r\n                });\r\n            });\r\n        },\r\n      confirm(item){\r\n          this.$confirm(`是否确定收货？`, \"提示\", {\r\n              confirmButtonText: \"确定\",\r\n              cancelButtonText: \"取消\",\r\n              type: \"warning\"\r\n          }).then(() => {\r\n              item.status = '已完成'\r\n              this.$http.post(`orders/update`, item).then(res => {\r\n                  this.$message({\r\n                    message: '确认收货成功',\r\n                    type: 'success',\r\n                    duration: 1500,\r\n                    onClose: () => {\r\n                      this.getMyOrderList(1);\r\n                    }\r\n                  });\r\n              });\r\n          });\r\n      },\r\n\t\tcancel(item){\r\n\t\t\tthis.$confirm(`是否取消订单？`, \"提示\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t}).then(() => {\r\n\t\t\t\titem.status = '已取消'\r\n\t\t\t\tthis.$http.post(`orders/update`, item).then(res => {\r\n                    // 获取商品详情信息\r\n                    this.$http.get(item.tableName+'/info/'+item.productId, {}).then(res => {\r\n                        // 商品信息\r\n                        let good = res.data.data;\r\n                        if(item.tableName == `photographyWorks`){\r\n                            // 加回库存数量\r\n                            good.goodsStocks = good.goodsStocks + item.quantity;\r\n                            this.$http.post(`photographyWorks/update`, good).then(res => {\r\n                            });\r\n                        }\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '订单取消成功',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\tthis.getMyOrderList(1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetMyOrderList(page) {\r\n\t\t\tthis.$http.get('orders/list', {params: {page, limit: this.pageSize,sort:'addTime',order:'desc', userId: localStorage.getItem('frontUserId'), status: this.activeName}}).then(res => {\r\n\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\tthis.tableData = res.data.data.list;\r\n\t\t\t\t\tthis.total = res.data.data.total;\r\n\t\t\t\t\tthis.pageSize = Number(res.data.data.pageSize);\r\n\t\t\t\t\tthis.totalPage = res.data.data.totalPage;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tcurChange(page) {\r\n\t\t\tthis.getMyOrderList(page);\r\n\t\t},\r\n\t\tprevClick(page) {\r\n\t\t\tthis.getMyOrderList(page);\r\n\t\t},\r\n\t\tnextClick(page) {\r\n\t\t\tthis.getMyOrderList(page);\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.section {\r\n\t  width: 1000px;\r\n\t  margin: 0 auto;\r\n\t}\r\n\r\n\t.shangpin {\r\n\t  display: flex;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__total {\r\n\t\tmargin: 0 10px 0 0;\r\n\t\tcolor: #666;\r\n\t\tfont-weight: 400;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .btn-prev {\r\n\t\tborder: none;\r\n\t\tborder-radius: 2px;\r\n\t\tpadding: 0 10px;\r\n\t\tmargin: 0 5px;\r\n\t\tcolor: #fff;\r\n\t\tbackground: #0D5451;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\tmin-width: 35px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .btn-next {\r\n\t\tborder: none;\r\n\t\tborder-radius: 2px;\r\n\t\tpadding: 0 10px;\r\n\t\tmargin: 0 5px;\r\n\t\tcolor: #fff;\r\n\t\tbackground: #FFC174;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\tmin-width: 35px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .btn-prev:disabled {\r\n\t\tborder: none;\r\n\t\tcursor: not-allowed;\r\n\t\tborder-radius: 2px;\r\n\t\tpadding: 0 10px;\r\n\t\tmargin: 0 5px;\r\n\t\tcolor: #C0C4CC;\r\n\t\tbackground: #f4f4f5;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .btn-next:disabled {\r\n\t\tborder: none;\r\n\t\tcursor: not-allowed;\r\n\t\tborder-radius: 2px;\r\n\t\tpadding: 0 10px;\r\n\t\tmargin: 0 5px;\r\n\t\tcolor: #C0C4CC;\r\n\t\tbackground: #f4f4f5;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pager {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pager .number {\r\n\t\tcursor: pointer;\r\n\t\tpadding: 0 4px;\r\n\t\tmargin: 0 5px;\r\n\t\tcolor: #000;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\tborder-radius: 2px;\r\n\t\tbackground: #CBCBCB;\r\n\t\ttext-align: center;\r\n\t\tmin-width: 30px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pager .number:hover {\r\n\t\tcursor: pointer;\r\n\t\tpadding: 0 4px;\r\n\t\tmargin: 0 5px;\r\n\t\tcolor: #fff;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\tborder-radius: 2px;\r\n\t\tbackground: #FFC174;\r\n\t\ttext-align: center;\r\n\t\tmin-width: 30px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pager .number.active {\r\n\t\tcursor: default;\r\n\t\tpadding: 0 4px;\r\n\t\tmargin: 0 5px;\r\n\t\tcolor: #FFF;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\tborder-radius: 2px;\r\n\t\tbackground: #FFC174;\r\n\t\ttext-align: center;\r\n\t\tmin-width: 30px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__sizes {\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__sizes .el-input {\r\n\t\tmargin: 0 5px;\r\n\t\twidth: 100px;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__sizes .el-input .el-input__inner {\r\n\t\tborder: 1px solid #DCDFE6;\r\n\t\tcursor: pointer;\r\n\t\tpadding: 0 25px 0 8px;\r\n\t\tcolor: #606266;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\tborder-radius: 3px;\r\n\t\toutline: 0;\r\n\t\tbackground: #FFF;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__sizes .el-input span.el-input__suffix {\r\n\t\ttop: 0;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__sizes .el-input .el-input__suffix .el-select__caret {\r\n\t\tcursor: pointer;\r\n\t\tcolor: #C0C4CC;\r\n\t\twidth: 25px;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 28px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__jump {\r\n\t\tmargin: 0 0 0 24px;\r\n\t\tcolor: #606266;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 28px;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__jump .el-input {\r\n\t\tborder-radius: 3px;\r\n\t\tpadding: 0 2px;\r\n\t\tmargin: 0 2px;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 50px;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 18px;\r\n\t\tposition: relative;\r\n\t\ttext-align: center;\r\n\t\theight: 28px;\r\n\t}\r\n\t\r\n\t#pagination.el-pagination /deep/ .el-pagination__jump .el-input .el-input__inner {\r\n\t\tborder: 1px solid #DCDFE6;\r\n\t\tcursor: pointer;\r\n\t\tpadding: 0 3px;\r\n\t\tcolor: #606266;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 28px;\r\n\t\tborder-radius: 3px;\r\n\t\toutline: 0;\r\n\t\tbackground: #FFF;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\theight: 28px;\r\n\t}\r\n</style>\r\n"]}]}