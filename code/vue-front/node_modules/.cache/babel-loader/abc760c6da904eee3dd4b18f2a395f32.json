{"remainingRequest":"D:\\0javaproject\\code\\vue-front\\node_modules\\babel-loader\\lib\\index.js!D:\\0javaproject\\code\\vue-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\0javaproject\\code\\vue-front\\src\\pages\\register\\register.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\0javaproject\\code\\vue-front\\src\\pages\\register\\register.vue","mtime":1742998977392},{"path":"D:\\0javaproject\\code\\vue-front\\babel.config.js","mtime":1739010664723},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0javaproject\\code\\vue-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlRmxhZzogJycsCiAgICAgIHRhYmxlTmFtZTogJycsCiAgICAgIHJlZ2lzdGVyRm9ybToge30sCiAgICAgIHJ1bGVzOiB7fSwKICAgICAgLy8g5paw5aKe77ya55So5LqO6aqM6K+B56CB5qCh6aqMCiAgICAgIGNhcHRjaGE6ICcnLAogICAgICAvLyDorrDlvZXlvZPliY3nlJ/miJDnmoTpqozor4HnoIEKICAgICAgb3JkaW5hcnlVc2VydXNlclNleE9wdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlRmxhZyA9PT0gJ3JlZ2lzdGVyJykgewogICAgICB0aGlzLnRhYmxlTmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJvbGU7CiAgICAgIGlmICh0aGlzLnRhYmxlTmFtZSA9PT0gJ29yZGluYXJ5VXNlcicpIHsKICAgICAgICB2YXIgX3RoaXMkJHZhbGlkYXRlLCBfdGhpcyQkdmFsaWRhdGUyOwogICAgICAgIHRoaXMucmVnaXN0ZXJGb3JtID0gewogICAgICAgICAgYWNjb3VudDogJycsCiAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICBwYXNzd29yZDI6ICcnLAogICAgICAgICAgY29kZTogJycsCiAgICAgICAgICAvLyDnlKjkuo7pqozor4HnoIHovpPlhaUKICAgICAgICAgIHJlYWxOYW1lOiAnJywKICAgICAgICAgIHVzZXJTZXg6ICcnLAogICAgICAgICAgbW9iaWxlOiAnJywKICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgIGlkQ2FyZDogJycsCiAgICAgICAgICB1c2VyQXZhdGFyOiAnJywKICAgICAgICAgIG1vbmV5OiAnJywKICAgICAgICAgIHZpcDogJycKICAgICAgICB9OwogICAgICAgIC8vIOiuvue9ruW/heWhq+inhOWImQogICAgICAgIHRoaXMucnVsZXMuYWNjb3VudCA9IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXotKblj7cnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV07CiAgICAgICAgdGhpcy5ydWxlcy5wYXNzd29yZCA9IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlUGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XTsKICAgICAgICB0aGlzLnJ1bGVzLnBhc3N3b3JkMiA9IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7flho3mrKHovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlUGFzc3dvcmQyLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV07CiAgICAgICAgdGhpcy5ydWxlcy5jb2RlID0gW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemqjOivgeeggScsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XTsKICAgICAgICAvLyDlhbbku5blj6/pgInop4TliJkKICAgICAgICB0aGlzLnJ1bGVzLm1vYmlsZSA9IFt7CiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICB2YWxpZGF0b3I6IChfdGhpcyQkdmFsaWRhdGUgPSB0aGlzLiR2YWxpZGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkJHZhbGlkYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkdmFsaWRhdGUuaXNNb2JpbGUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XTsKICAgICAgICB0aGlzLnJ1bGVzLm1vbmV5ID0gW3sKICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICAgIHZhbGlkYXRvcjogKF90aGlzJCR2YWxpZGF0ZTIgPSB0aGlzLiR2YWxpZGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkJHZhbGlkYXRlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHZhbGlkYXRlMi5pc051bWJlciwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dOwogICAgICB9CiAgICAgIC8vIOazqOWGjOaXtuWni+e7iOeUn+aIkOmqjOivgeeggQogICAgICB0aGlzLmdlbmVyYXRlQ2FwdGNoYSgpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMucGFnZUZsYWcgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlRmxhZzsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlRmxhZyA9PT0gJ3JlZ2lzdGVyJykgewogICAgICBpZiAodGhpcy50YWJsZU5hbWUgPT09ICdvcmRpbmFyeVVzZXInKSB7CiAgICAgICAgLy8g5aSH55So77ya6Iul6ZyA6KaB5ZyoIGNyZWF0ZWQg5Lit6K6+572u6KeE5YiZ77yM5Y+v5Zyo5q2k6L+b6KGM6YWN572uCiAgICAgIH0KICAgICAgdGhpcy5vcmRpbmFyeVVzZXJ1c2VyU2V4T3B0aW9ucyA9ICfnlLcs5aWzJy5zcGxpdCgnLCcpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVQYXNzd29yZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgLy8g5a+G56CB5aSN5p2C5bqm6KaB5rGC77ya6Iez5bCRNuS9je+8jOW/hemhu+WMheWQq+Wkp+WGmeWtl+avjeOAgeWwj+WGmeWtl+avjeOAgeaVsOWtl+WSjOeJueauiuespuWPtwogICAgICBjb25zdCBwYXR0ZXJuID0gL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipcZCkoPz0uKltcV19dKS57Nix9JC87CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fovpPlhaXlr4bnoIEnKTsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0KICAgICAgaWYgKCFwYXR0ZXJuLnRlc3QodmFsdWUpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5a+G56CB6Iez5bCRNuS9je+8jOmcgOWMheWQq+Wkp+WGmeWtl+avjeOAgeWwj+WGmeWtl+avjeOAgeaVsOWtl+WSjOeJueauiuespuWPtycpOwogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+WvhueggeWkjeadguW6puS4jeespuWQiOimgeaxgicpKTsKICAgICAgfQogICAgICBjYWxsYmFjaygpOwogICAgfSwKICAgIHZhbGlkYXRlUGFzc3dvcmQyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35YaN5qyh6L6T5YWl5a+G56CBJyk7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6K+35YaN5qyh6L6T5YWl5a+G56CBJykpOwogICAgICB9CiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5yZWdpc3RlckZvcm0ucGFzc3dvcmQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuKTmrKHlr4bnoIHovpPlhaXkuI3kuIDoh7QnKTsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfkuKTmrKHlr4bnoIHovpPlhaXkuI3kuIDoh7QnKSk7CiAgICAgIH0KICAgICAgY2FsbGJhY2soKTsKICAgIH0sCiAgICAvLyDnlJ/miJA05L2N6ZqP5py66aqM6K+B56CB77yM5bm26LCD55So57uY5Yi25Ye95pWwCiAgICBnZW5lcmF0ZUNhcHRjaGEoKSB7CiAgICAgIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISktNTlBRUlNUVVZXWFlaYWJjZGVmZ2hqa21ucHFyc3R1dnd4eXoyMzQ1Njc4OSc7CiAgICAgIGxldCByZXN1bHQgPSAnJzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICByZXN1bHQgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpOwogICAgICB9CiAgICAgIHRoaXMuY2FwdGNoYSA9IHJlc3VsdDsKICAgICAgdGhpcy5kcmF3Q2FwdGNoYSgpOwogICAgICAvLyDmuIXnqbrnlKjmiLfovpPlhaXnmoTpqozor4HnoIEKICAgICAgdGhpcy5yZWdpc3RlckZvcm0uY29kZSA9ICcnOwogICAgfSwKICAgIC8vIOS9v+eUqENhbnZhc+e7mOWItumqjOivgeeggeWSjOW5suaJsOmhuQogICAgZHJhd0NhcHRjaGEoKSB7CiAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuJHJlZnMuY2FwdGNoYUNhbnZhczsKICAgICAgaWYgKCFjYW52YXMpIHJldHVybjsKICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICAvLyDnu5jliLbog4zmma8KICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZjBmMGYwJzsKICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICAvLyDnu5jliLbpqozor4HnoIHlrZfnrKYKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNhcHRjaGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBjaGFyID0gdGhpcy5jYXB0Y2hhW2ldOwogICAgICAgIGNvbnN0IGZvbnRTaXplID0gMjAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7CiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLnJhbmRvbSgpICogMzAgKiBNYXRoLlBJIC8gMTgwOwogICAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHggQXJpYWxgOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiKCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKX0pYDsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGNvbnN0IHggPSAxMCArIGkgKiAyNTsKICAgICAgICBjb25zdCB5ID0gMjUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7CiAgICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KTsKICAgICAgICBjdHgucm90YXRlKGFuZ2xlKTsKICAgICAgICBjdHguZmlsbFRleHQoY2hhciwgMCwgMCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgfQogICAgICAvLyDnu5jliLblubLmibDnur8KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgcmdiKCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KX0pYDsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhNYXRoLnJhbmRvbSgpICogd2lkdGgsIE1hdGgucmFuZG9tKCkgKiBoZWlnaHQpOwogICAgICAgIGN0eC5saW5lVG8oTWF0aC5yYW5kb20oKSAqIHdpZHRoLCBNYXRoLnJhbmRvbSgpICogaGVpZ2h0KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KICAgICAgLy8g57uY5Yi25bmy5omw54K5CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzA7IGkrKykgewogICAgICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiKCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KX0sICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KX0pYDsKICAgICAgICBjb25zdCB4ID0gTWF0aC5yYW5kb20oKSAqIHdpZHRoOwogICAgICAgIGNvbnN0IHkgPSBNYXRoLnJhbmRvbSgpICogaGVpZ2h0OwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguYXJjKHgsIHksIDEsIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgICBjdHguZmlsbCgpOwogICAgICB9CiAgICB9LAogICAgc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICAvLyDlhYjlr7nlr4bnoIHlrZfmrrXov5vooYzljZXni6zpqozor4EKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGVGaWVsZCgncGFzc3dvcmQnLCBlcnJvciA9PiB7CiAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIOWGjeaJp+ihjOaVtOS9k+ihqOWNleagoemqjAogICAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLnRhYmxlTmFtZSArICcvcmVnaXN0ZXInOwogICAgICAgICAgICAvLyDpop3lpJbmoKHpqozvvIjkvovlpoLotKblj7fkuI3og73kuLrnqbrnrYnvvInvvIzov5nph4zlt7LnlLHop4TliJnlpITnkIYKICAgICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KHVybCwgdGhpcy5yZWdpc3RlckZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfms6jlhozmiJDlip8nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLAogICAgICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["data","pageFlag","tableName","registerForm","rules","captcha","ordinaryUseruserSexOptions","mounted","$route","query","role","_this$$validate","_this$$validate2","account","password","password2","code","realName","userSex","mobile","email","idCard","userAvatar","money","vip","required","message","trigger","validator","validatePassword","validatePassword2","$validate","isMobile","isNumber","generateCaptcha","created","split","methods","rule","value","callback","pattern","$message","error","Error","test","chars","result","i","charAt","Math","floor","random","length","drawCaptcha","canvas","$refs","captchaCanvas","ctx","getContext","width","height","clearRect","fillStyle","fillRect","char","fontSize","angle","PI","font","save","x","y","translate","rotate","fillText","restore","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","submitForm","formName","validateField","validate","valid","url","$http","post","then","res","type","duration","onClose","$router","push","msg"],"sources":["src/pages/register/register.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!-- 左侧插画区域 -->\r\n    <div class=\"left-illustration\">\r\n      <img\r\n          src=\"https://cdn.prod.website-files.com/6364b6fd26e298b0b8b938f5/6364b6fd26e298040bb939fc_signin.png\"\r\n          alt=\"Illustration\"\r\n          class=\"illustration-img\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 右侧表单区域 -->\r\n    <div class=\"right-form\">\r\n      <el-form\r\n          class=\"rgs-form\"\r\n          v-if=\"pageFlag=='register'\"\r\n          ref=\"registerForm\"\r\n          :model=\"registerForm\"\r\n          :rules=\"rules\"\r\n      >\r\n        <div class=\"form-header\">欢迎加入大家庭</div>\r\n\r\n        <!-- 账号：必填项 -->\r\n        <el-form-item class=\"form-item\" v-if=\"tableName=='ordinaryUser'\" prop=\"account\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>账号名称：</label>\r\n          <el-input\r\n              v-model=\"registerForm.account\"\r\n              placeholder=\"请输入账号\"\r\n              class=\"form-input\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <!-- 密码：必填项 -->\r\n        <el-form-item class=\"form-item\" v-if=\"tableName=='ordinaryUser'\" prop=\"password\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>密码：</label>\r\n          <el-input\r\n              v-model=\"registerForm.password\"\r\n              type=\"password\"\r\n              placeholder=\"请输入密码\"\r\n              class=\"form-input\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <!-- 确认密码：必填项 -->\r\n        <el-form-item class=\"form-item\" v-if=\"tableName=='ordinaryUser'\" prop=\"password2\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>确认密码：</label>\r\n          <el-input\r\n              v-model=\"registerForm.password2\"\r\n              type=\"password\"\r\n              placeholder=\"请再次输入密码\"\r\n              class=\"form-input\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <!-- 验证码：始终显示 -->\r\n        <el-form-item class=\"form-item\" prop=\"code\">\r\n          <label class=\"form-label\"><span class=\"required\">*</span>验证码：</label>\r\n          <div class=\"captcha-wrapper\">\r\n            <el-input\r\n                v-model=\"registerForm.code\"\r\n                placeholder=\"请输入验证码\"\r\n                class=\"form-input captcha-input\"\r\n            />\r\n            <canvas\r\n                ref=\"captchaCanvas\"\r\n                width=\"120\"\r\n                height=\"40\"\r\n                class=\"captcha-canvas\"\r\n                @click=\"generateCaptcha\"\r\n            ></canvas>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-button class=\"submit-button\" type=\"primary\" @click=\"submitForm('registerForm')\">\r\n          注册\r\n        </el-button>\r\n        <router-link class=\"login-link\" to=\"/login\">已有账户登录</router-link>\r\n      </el-form>\r\n    </div>\r\n    <footer class=\"bottom-footer\">\r\n      @ all right reserved by  甘肃政法大学 张恒毓 2025\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageFlag: '',\r\n      tableName: '',\r\n      registerForm: {},\r\n      rules: {},\r\n      // 新增：用于验证码校验\r\n      captcha: '', // 记录当前生成的验证码\r\n      ordinaryUseruserSexOptions: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    if (this.$route.query.pageFlag === 'register') {\r\n      this.tableName = this.$route.query.role;\r\n      if (this.tableName === 'ordinaryUser') {\r\n        this.registerForm = {\r\n          account: '',\r\n          password: '',\r\n          password2: '',\r\n          code: '', // 用于验证码输入\r\n          realName: '',\r\n          userSex: '',\r\n          mobile: '',\r\n          email: '',\r\n          idCard: '',\r\n          userAvatar: '',\r\n          money: '',\r\n          vip: '',\r\n        };\r\n        // 设置必填规则\r\n        this.rules.account = [{ required: true, message: '请输入账号', trigger: ['blur', 'change'] }];\r\n        this.rules.password = [\r\n          { required: true, message: '请输入密码', trigger: ['blur', 'change'] },\r\n          { validator: this.validatePassword, trigger: ['blur', 'change'] }\r\n        ];\r\n        this.rules.password2 = [\r\n          { required: true, message: '请再次输入密码', trigger: ['blur', 'change'] },\r\n          { validator: this.validatePassword2, trigger: ['blur', 'change'] }\r\n        ];\r\n        this.rules.code = [{ required: true, message: '请输入验证码', trigger: ['blur', 'change'] }];\r\n        // 其他可选规则\r\n        this.rules.mobile = [{ required: false, validator: this.$validate?.isMobile, trigger: 'blur' }];\r\n        this.rules.money = [{ required: false, validator: this.$validate?.isNumber, trigger: 'blur' }];\r\n      }\r\n      // 注册时始终生成验证码\r\n      this.generateCaptcha();\r\n    }\r\n  },\r\n  created() {\r\n    this.pageFlag = this.$route.query.pageFlag;\r\n    if (this.$route.query.pageFlag === 'register') {\r\n      if (this.tableName === 'ordinaryUser') {\r\n        // 备用：若需要在 created 中设置规则，可在此进行配置\r\n      }\r\n      this.ordinaryUseruserSexOptions = '男,女'.split(',');\r\n    }\r\n  },\r\n  methods: {\r\n    validatePassword(rule, value, callback) {\r\n      // 密码复杂度要求：至少6位，必须包含大写字母、小写字母、数字和特殊符号\r\n      const pattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_]).{6,}$/;\r\n      if (!value) {\r\n        this.$message.error('请输入密码');\r\n        return callback(new Error('请输入密码'));\r\n      }\r\n      if (!pattern.test(value)) {\r\n        this.$message.error('密码至少6位，需包含大写字母、小写字母、数字和特殊符号');\r\n        return callback(new Error('密码复杂度不符合要求'));\r\n      }\r\n      callback();\r\n    },\r\n    validatePassword2(rule, value, callback) {\r\n      if (!value) {\r\n        this.$message.error('请再次输入密码');\r\n        return callback(new Error('请再次输入密码'));\r\n      }\r\n      if (value !== this.registerForm.password) {\r\n        this.$message.error('两次密码输入不一致');\r\n        return callback(new Error('两次密码输入不一致'));\r\n      }\r\n      callback();\r\n    },\r\n    // 生成4位随机验证码，并调用绘制函数\r\n    generateCaptcha() {\r\n      const chars = 'ABCDEFGHJKMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789';\r\n      let result = '';\r\n      for (let i = 0; i < 4; i++) {\r\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n      }\r\n      this.captcha = result;\r\n      this.drawCaptcha();\r\n      // 清空用户输入的验证码\r\n      this.registerForm.code = '';\r\n    },\r\n    // 使用Canvas绘制验证码和干扰项\r\n    drawCaptcha() {\r\n      const canvas = this.$refs.captchaCanvas;\r\n      if (!canvas) return;\r\n      const ctx = canvas.getContext('2d');\r\n      const width = canvas.width;\r\n      const height = canvas.height;\r\n      ctx.clearRect(0, 0, width, height);\r\n      // 绘制背景\r\n      ctx.fillStyle = '#f0f0f0';\r\n      ctx.fillRect(0, 0, width, height);\r\n      // 绘制验证码字符\r\n      for (let i = 0; i < this.captcha.length; i++) {\r\n        const char = this.captcha[i];\r\n        const fontSize = 20 + Math.floor(Math.random() * 10);\r\n        const angle = Math.random() * 30 * Math.PI / 180;\r\n        ctx.font = `${fontSize}px Arial`;\r\n        ctx.fillStyle = `rgb(${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)})`;\r\n        ctx.save();\r\n        const x = 10 + i * 25;\r\n        const y = 25 + Math.floor(Math.random() * 10);\r\n        ctx.translate(x, y);\r\n        ctx.rotate(angle);\r\n        ctx.fillText(char, 0, 0);\r\n        ctx.restore();\r\n      }\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 5; i++) {\r\n        ctx.strokeStyle = `rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`;\r\n        ctx.beginPath();\r\n        ctx.moveTo(Math.random() * width, Math.random() * height);\r\n        ctx.lineTo(Math.random() * width, Math.random() * height);\r\n        ctx.stroke();\r\n      }\r\n      // 绘制干扰点\r\n      for (let i = 0; i < 30; i++) {\r\n        ctx.fillStyle = `rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`;\r\n        const x = Math.random() * width;\r\n        const y = Math.random() * height;\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, 1, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n      }\r\n    },\r\n    submitForm(formName) {\r\n      // 先对密码字段进行单独验证\r\n      this.$refs[formName].validateField('password', (error) => {\r\n        if (error) {\r\n          return;\r\n        }\r\n        // 再执行整体表单校验\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            const url = this.tableName + '/register';\r\n            // 额外校验（例如账号不能为空等），这里已由规则处理\r\n            this.$http.post(url, this.registerForm).then((res) => {\r\n              if (res.data.code === 0) {\r\n                this.$message({\r\n                  message: '注册成功',\r\n                  type: 'success',\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.$router.push('/login');\r\n                  },\r\n                });\r\n              } else {\r\n                this.$message.error(res.data.msg);\r\n              }\r\n            });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n/* 左侧插画区域 */\r\n.left-illustration {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.illustration-img {\r\n  width: 50%;\r\n  max-width: 800px;\r\n}\r\n\r\n/* 右侧表单区域 */\r\n.right-form {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n/* 表单整体样式 */\r\n.rgs-form {\r\n  background: #fff;\r\n  border-radius: 30px;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n  width: 700px;\r\n  padding: 30px 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n/* 表单头部 */\r\n.form-header {\r\n  margin: 40px;\r\n  font-size: 35px;\r\n  color: #333;\r\n  text-align: center;\r\n}\r\n\r\n/* 表单项 */\r\n.form-item {\r\n  width: 540px;\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.form-label {\r\n  width: 90px;\r\n  color: #666;\r\n  font-size: 14px;\r\n  text-align: right;\r\n  margin-right: 10px;\r\n}\r\n\r\n.required {\r\n  color: red;\r\n}\r\n\r\n.form-input {\r\n  width: 540px;\r\n  height: 50px;\r\n}\r\n\r\n/* 验证码样式 */\r\n.captcha-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.captcha-input {\r\n  width: 425px;\r\n}\r\n.captcha-canvas {\r\n  //margin-left: 10px;\r\n  cursor: pointer;\r\n  border: 1px solid #ddd;\r\n  height: 40px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* 提交按钮 */\r\n.submit-button {\r\n  width: 100px;\r\n  height: 44px;\r\n  margin: 20px 0;\r\n  font-size: 16px;\r\n  background: #409eff;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 30px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #66b1ff;\r\n  }\r\n}\r\n\r\n/* 链接样式 */\r\n.login-link {\r\n  color: #909399;\r\n  font-size: 14px;\r\n  text-decoration: none;\r\n  text-align: center;\r\n  display: block;\r\n  margin-top: 5px;\r\n}\r\n\r\n/* 脚注 */\r\n.bottom-footer {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 80px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  background-color: white;\r\n  font-size: 16px;\r\n  color: #909399;\r\n  border-top: 1px solid #ddd;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}